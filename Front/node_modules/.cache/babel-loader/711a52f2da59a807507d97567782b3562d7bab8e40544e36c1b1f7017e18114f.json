{"ast":null,"code":"import axios from'axios';import{useNavigate,useParams}from'react-router-dom';import React,{useEffect,useState}from'react';import Button from'react-bootstrap/Button';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EditHotal=()=>{const params=useParams();const navigate=useNavigate();const[name,setName]=useState(\"\");const[location,setLocation]=useState(\"\");const[discription,setDiscription]=useState(\"\");// Fixed spelling\nconst[image,setImage]=useState(\"\");const findHandler=async()=>{try{const{data}=await axios.get(`${window.location.origin}/api/v4/hotal/search/${params.id}`);if(data&&data.length>0){setName(data[0].name);setLocation(data[0].location);setDiscription(data[0].discription);// Fixed spelling\nsetImage(data[0].image);}}catch(error){console.error(\"Error fetching thali details:\",error);}};useEffect(()=>{localStorage.removeItem('action');findHandler();},[]);const cancelHandler=()=>{navigate('/hotal');};const editHandler=async event=>{event.preventDefault();const formData=new FormData();formData.append(\"name\",name);formData.append(\"location\",location);formData.append(\"discription\",discription);// Fixed spelling\nif(image){formData.append(\"image\",image);}try{await axios.put(`${window.location.origin}/api/v4/hotal/update/${params.id}`,formData,{headers:{\"Content-Type\":\"multipart/form-data\"}});localStorage.setItem('action',JSON.stringify('One recard updated successfully!!'));navigate('/hotal');}catch(error){console.error(\"Error updating thali:\",error);}};return/*#__PURE__*/_jsx(\"div\",{className:\"container p-0\",style:{marginTop:'90px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\" p-2 p-md-5 mt-2\",style:{borderRadius:'5px'// boxShadow: '0px 0px 2px gray',\n},onSubmit:editHandler,children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\"Update hotal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"form-label\",children:\"Hotal name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:name,onChange:e=>setName(e.target.value),className:\"form-control\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price\",className:\"form-label\",children:\"Location\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"location\",value:location,onChange:e=>setLocation(e.target.value),className:\"form-control\",required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"image\",className:\"form-label\",children:\"Image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"image\",onChange:event=>setImage(event.target.files[0]),className:\"form-control\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"description\",value:discription,onChange:e=>setDiscription(e.target.value),className:\"form-control\",required:true})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap-2\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"dark\",children:\"Edit\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap-2\",children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:cancelHandler,children:\"Close\"})})})]})]})})})})});};export default EditHotal;","map":{"version":3,"names":["axios","useNavigate","useParams","React","useEffect","useState","Button","jsx","_jsx","jsxs","_jsxs","EditHotal","params","navigate","name","setName","location","setLocation","discription","setDiscription","image","setImage","findHandler","data","get","window","origin","id","length","error","console","localStorage","removeItem","cancelHandler","editHandler","event","preventDefault","formData","FormData","append","put","headers","setItem","JSON","stringify","className","style","marginTop","children","borderRadius","onSubmit","htmlFor","type","value","onChange","e","target","required","files","variant","onClick"],"sources":["C:/Users/HP/Desktop/METRODELICIOUS/Front/src/EditHotal.js"],"sourcesContent":["import axios from 'axios';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport React, { useEffect, useState } from 'react';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\n\r\nconst EditHotal = () => {\r\n    const params = useParams();\r\n    const navigate = useNavigate();\r\n    const [name, setName] = useState(\"\");\r\n    const [location, setLocation] = useState(\"\");\r\n    const [discription, setDiscription] = useState(\"\"); // Fixed spelling\r\n    const [image, setImage] = useState(\"\");\r\n\r\n    const findHandler = async () => {\r\n        try {\r\n            const { data } = await axios.get(`${window.location.origin}/api/v4/hotal/search/${params.id}`);\r\n            if (data && data.length > 0) {\r\n                setName(data[0].name);\r\n                setLocation(data[0].location);\r\n                setDiscription(data[0].discription); // Fixed spelling\r\n                setImage(data[0].image);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching thali details:\", error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        localStorage.removeItem('action');\r\n        findHandler();\r\n    }, []);\r\n\r\n    const cancelHandler = () => {\r\n        navigate('/hotal');\r\n    };\r\n\r\n    const editHandler = async (event) => {\r\n        event.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append(\"name\", name);\r\n        formData.append(\"location\", location);\r\n        formData.append(\"discription\", discription); // Fixed spelling\r\n        if (image) {\r\n            formData.append(\"image\", image);\r\n        }\r\n\r\n        try {\r\n            await axios.put(`${window.location.origin}/api/v4/hotal/update/${params.id}`, formData, {\r\n                headers: {\r\n                    \"Content-Type\": \"multipart/form-data\"\r\n                }\r\n            });\r\n            localStorage.setItem('action', JSON.stringify('One recard updated successfully!!'))\r\n            navigate('/hotal');\r\n        } catch (error) {\r\n            console.error(\"Error updating thali:\", error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"container p-0\" style={{ marginTop: '90px' }}>\r\n            <div className=\"row justify-content-center\">\r\n                <div className=\"col-12 col-lg-6\">\r\n                    <div className='container'>\r\n                        <form className=\" p-2 p-md-5 mt-2\" style={{\r\n                            borderRadius: '5px',\r\n                            // boxShadow: '0px 0px 2px gray',\r\n                        }} onSubmit={editHandler}>\r\n                            <h3 className=\"text-center\">Update hotal</h3>\r\n                            <div className='row'>\r\n                                <div className=\"col-12\">\r\n                                    <label htmlFor=\"name\" className=\"form-label\">Hotal name</label>\r\n                                    <input type=\"text\" name=\"name\"\r\n                                        value={name}\r\n                                        onChange={(e) => setName(e.target.value)}\r\n                                        className=\"form-control\"\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className='row'>\r\n                                <div className=\"col-12\">\r\n                                    <label htmlFor=\"price\" className=\"form-label\">Location</label>\r\n                                    <input type=\"text\" name=\"location\"\r\n                                        value={location}\r\n                                        onChange={(e) => setLocation(e.target.value)}\r\n                                        className=\"form-control\"\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className='row'>\r\n                                <div className=\"col-12\">\r\n                                    <label htmlFor=\"image\" className=\"form-label\">Image</label>\r\n                                    <input type=\"file\" name=\"image\"\r\n                                        onChange={(event) => setImage(event.target.files[0])}\r\n                                        className=\"form-control\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className='row'>\r\n                                <div className=\"col-12\">\r\n                                    <label htmlFor=\"description\" className=\"form-label\">Description</label>\r\n                                    <input type=\"text\" name=\"description\"\r\n                                        value={discription}\r\n                                        onChange={(e) => setDiscription(e.target.value)}\r\n                                        className=\"form-control\"\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className='row mt-3'>\r\n                                <div className='col-6'>\r\n                                    <div className=\"d-grid gap-2\">\r\n                                        <Button type='submit' variant=\"dark\">\r\n                                            Edit\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n                                <div className='col-6'>\r\n                                    <div className=\"d-grid gap-2\">\r\n                                        <Button variant=\"secondary\" onClick={cancelHandler}>\r\n                                            Close\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditHotal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}